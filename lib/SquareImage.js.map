{"version":3,"sources":["../src/SquareImage.jsx"],"names":["SquareImage","backgroundImage","PropTypes","string","isRequired","minWidth","number","props","state","height","width","backgroundRepeat","backgroundSize","float","display","resize","window","addEventListener","removeEventLisener","newState","setState","Object","assign","modifyState","innerWidth","Math","floor","ref","r","node","Component"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEqBA,W;;;;;wBACI;AACrB,aAAO;AACLC,yBAAiB,gBAAMC,SAAN,CAAgBC,MAAhB,CAAuBC,UADnC;AAELC,kBAAU,gBAAMH,SAAN,CAAgBI;AAFrB,OAAP;AAID;;;wBAEyB;AACxB,aAAO;AACLD,kBAAU;AADL,OAAP;AAGD;;;AAED,uBAAYE,KAAZ,EAAmB;AAAA;;AAAA,0HACXA,KADW;;AAGjB,UAAKC,KAAL,GAAa;AACXC,cAAQ,CADG;AAEXC,aAAO,CAFI;AAGXT,gCAAwBM,MAAMN,eAA9B,MAHW;AAIXU,wBAAkB,WAJP;AAKXC,sBAAgB,OALL;AAMXC,aAAO,MANI;AAOXC,eAAS;AAPE,KAAb;AAHiB;AAYlB;;;;wCAEmB;AAClB,WAAKC,MAAL;AACAC,aAAOC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKF,MAAL,EAAlC;AACD;;;2CAEsB;AACrBC,aAAOE,kBAAP,CAA0B,QAA1B,EAAoC,KAAKH,MAAL,EAApC;AACD;;;gCAEWI,Q,EAAU;AACpB,WAAKC,QAAL,CAAcC,OAAOC,MAAP,CAAc,EAAd,EAAkB,KAAKd,KAAvB,EAA8BW,QAA9B,CAAd;AACD;;;6BAEQ;AAAA;;AACP,aAAO;AAAA,eAAM,OAAKI,WAAL,CAAiB;AAC5Bd,kBAAQO,OAAOQ,UAAP,GAAoBC,KAAKC,KAAL,CAAWV,OAAOQ,UAAP,GAAoB,OAAKjB,KAAL,CAAWF,QAA1C,CADA;AAE5BK,iBAAOM,OAAOQ,UAAP,GAAoBC,KAAKC,KAAL,CAAWV,OAAOQ,UAAP,GAAoB,OAAKjB,KAAL,CAAWF,QAA1C;AAFC,SAAjB,CAAN;AAAA,OAAP;AAID;;;6BAEQ;AAAA;;AACP,UAAMsB,MAAM,SAANA,GAAM,CAACC,CAAD,EAAO;AACjB,eAAKC,IAAL,GAAYD,CAAZ;AACD,OAFD;;AAIA,aAAQ;AACJ,aAAKD,GADD;AAEJ,eAAO,KAAKnB;AAFR,QAAR;AAID;;;;EAzDsC,gBAAMsB,S;;kBAA1B9B,W","file":"SquareImage.js","sourcesContent":["import React from 'react'\n\nexport default class SquareImage extends React.Component {\n  static get propTypes() {\n    return {\n      backgroundImage: React.PropTypes.string.isRequired,\n      minWidth: React.PropTypes.number,\n    }\n  }\n\n  static get defaultProps() {\n    return {\n      minWidth: 200,\n    }\n  }\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      height: 0,\n      width: 0,\n      backgroundImage: `url(${props.backgroundImage})`,\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n      float: 'left',\n      display: 'inline-block',\n    }\n  }\n\n  componentDidMount() {\n    this.resize()()\n    window.addEventListener('resize', this.resize())\n  }\n\n  componentWillUnmount() {\n    window.removeEventLisener('resize', this.resize())\n  }\n\n  modifyState(newState) {\n    this.setState(Object.assign({}, this.state, newState))\n  }\n\n  resize() {\n    return () => this.modifyState({\n      height: window.innerWidth / Math.floor(window.innerWidth / this.props.minWidth),\n      width: window.innerWidth / Math.floor(window.innerWidth / this.props.minWidth),\n    })\n  }\n\n  render() {\n    const ref = (r) => {\n      this.node = r\n    }\n\n    return (<div\n        ref={ref}\n        style={this.state}\n    />)\n  }\n\n}\n"]}